<!-- chat bot Icon -->
<div class="chatBot" *ngIf="!chatBotToggle">
  <div>
    <button (click)="chatBotHandle()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
        class="w-8 h-8"
      >
        <path
          fill-rule="evenodd"
          d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 0 0 1.33 0l1.713-3.293a.783.783 0 0 1 .642-.413 41.102 41.102 0 0 0 3.55-.414c1.437-.231 2.43-1.49 2.43-2.902V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2ZM6.75 6a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z"
          clip-rule="evenodd"
        />
      </svg>
    </button>
  </div>
</div>

<!-- chat bot menu -->
<div *ngIf="chatBotToggle" class="chatBox m-4 w-80 z-10 rounded-lg shadow-lg">
  <div
    class="chatHeader text-white py-2 px-4 flex justify-between items-center"
  >
    <!-- Chat bot header -->
    <div>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
        class="w-8 h-8"
      >
        <path
          fill-rule="evenodd"
          d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 0 0 1.33 0l1.713-3.293a.783.783 0 0 1 .642-.413 41.102 41.102 0 0 0 3.55-.414c1.437-.231 2.43-1.49 2.43-2.902V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2ZM6.75 6a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
    <div (click)="chatBotHandle()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
        class="w-5 h-5"
      >
        <path
          fill-rule="evenodd"
          d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
  </div>
  <!-- Chat bot chat space -->
  <div class="bg-white py-6 h-80 p-4 rounded-b-lg overflow-y-auto">
    <!-- Display messages -->
    <div
      *ngFor="let message of messages"
      class="message"
      [ngClass]="{ 'user-message': isUserMessage(message) }"
    >
      <span [innerHTML]="message"></span>
    </div>
  </div>
  <!-- Message input and send button -->
  <div class="flex items-center bg-white px-4 py-4">
    <input
      #messageInput
      type="text"
      placeholder="Type your message..."
      class="flex-1 px-2 py-1 border border-gray-400 mr-2 focus:outline-none focus:border-blue-500"
    />
    <button
      (click)="sendMessage(messageInput.value)"
      class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-1 px-4"
    >
      Send
    </button>
  </div>
</div>
